<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Futuristic Door</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="escaperoom_style.css" />
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;

        flex-direction: column;
      }

      .text-container {
        z-index: 100;
        width: 100vw;
        height: 100vh;
        display: flex;
        position: absolute;
        top: 0;
        left: 0;
        justify-content: center;
        align-items: center;
        font-size: 96px;
        color: white;
        opacity: 0.8;
        user-select: none;
        text-shadow: 1px 1px rgba(0, 0, 0, 0.1);
      }

      :root {
        --color-bg1: rgb(108, 0, 162);
        --color-bg2: rgb(0, 17, 82);
        --color1: 18, 113, 255;
        --color2: 221, 74, 255;
        --color3: 100, 220, 255;
        --color4: 200, 50, 50;
        --color5: 180, 180, 50;
        --color-interactive: 140, 100, 255;
        --circle-size: 1400px;
        --blending: hard-light;
      }

      @keyframes moveInCircle {
        0% {
          transform: rotate(0deg);
        }
        50% {
          transform: rotate(180deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes moveVertical {
        0% {
          transform: translateY(-50%);
        }
        50% {
          transform: translateY(50%);
        }
        100% {
          transform: translateY(-50%);
        }
      }

      @keyframes moveHorizontal {
        0% {
          transform: translateX(-50%) translateY(-10%);
        }
        50% {
          transform: translateX(50%) translateY(10%);
        }
        100% {
          transform: translateX(-50%) translateY(-10%);
        }
      }

      .gradient-bg {
        width: 100vw;
        height: 100vh;
        position: relative;
        overflow: hidden;
        background: linear-gradient(40deg, var(--color-bg1), var(--color-bg2));
        top: 0;
        left: 0;

        svg {
          position: fixed;
          top: 0;
          left: 0;
          width: 0;
          height: 0;
        }

        .gradients-container {
          filter: url(#goo) blur(40px);
          width: 100%;
          height: 100%;
        }

        .g1 {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color1), 0.8) 0,
              rgba(var(--color1), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: var(--circle-size);
          height: var(--circle-size);
          top: calc(50% - var(--circle-size) / 2);
          left: calc(50% - var(--circle-size) / 2);

          transform-origin: center center;
          animation: moveVertical 30s ease infinite;

          opacity: 1;
        }

        .g2 {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color2), 0.8) 0,
              rgba(var(--color2), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: var(--circle-size);
          height: var(--circle-size);
          top: calc(50% - var(--circle-size) / 2);
          left: calc(50% - var(--circle-size) / 2);

          transform-origin: calc(50% - 400px);
          animation: moveInCircle 20s reverse infinite;

          opacity: 1;
        }

        .g3 {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color3), 0.8) 0,
              rgba(var(--color3), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: var(--circle-size);
          height: var(--circle-size);
          top: calc(50% - var(--circle-size) / 2 + 200px);
          left: calc(50% - var(--circle-size) / 2 - 500px);

          transform-origin: calc(50% + 400px);
          animation: moveInCircle 40s linear infinite;

          opacity: 1;
        }

        .g4 {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color4), 0.8) 0,
              rgba(var(--color4), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: var(--circle-size);
          height: var(--circle-size);
          top: calc(50% - var(--circle-size) / 2);
          left: calc(50% - var(--circle-size) / 2);

          transform-origin: calc(50% - 200px);
          animation: moveHorizontal 40s ease infinite;

          opacity: 0.7;
        }

        .g5 {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color5), 0.8) 0,
              rgba(var(--color5), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: calc(var(--circle-size) * 2);
          height: calc(var(--circle-size) * 2);
          top: calc(50% - var(--circle-size));
          left: calc(50% - var(--circle-size));

          transform-origin: calc(50% - 800px) calc(50% + 200px);
          animation: moveInCircle 20s ease infinite;

          opacity: 1;
        }

        .interactive {
          position: absolute;
          background: radial-gradient(
              circle at center,
              rgba(var(--color-interactive), 0.8) 0,
              rgba(var(--color-interactive), 0) 50%
            )
            no-repeat;
          mix-blend-mode: var(--blending);

          width: 100%;
          height: 100%;
          top: -50%;
          left: -50%;

          opacity: 0.7;
        }
      }

      .door-container {
        position: relative;
        width: 150px;
        height: 250px;
        perspective: 800px;
      }
      .door {
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, #3a3d98, #1e1f59);
        border: 5px solid #6d4c41;
        position: absolute;
        transform-origin: left;
        transition: transform 1s ease-in-out;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.7);
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
      }
      .door:before {
        content: "";
        width: 20px;
        height: 20px;
        background: cyan;
        border-radius: 50%;
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        box-shadow: 0 0 10px cyan;
      }

      .btn-grad {
        background-image: linear-gradient(
          to right,
          #fe8c00 0%,
          #f83600 51%,
          #fe8c00 100%
        );
      }
      .btn-grad {
        margin: 5px;
        padding: 8px 24px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
        display: block;
      }

      .btn-grad:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }

      .btn-grad2 {
        background-image: linear-gradient(
          to right,
          #dce35b 0%,
          #45b649 51%,
          #dce35b 100%
        );
      }
      .btn-grad2 {
        margin: 10px;
        padding: 8px 24px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
        display: block;
      }

      .btn-grad2:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }

      .modal-key {
        background-image: linear-gradient(135deg, #3b2667 10%, #bc78ec 100%);
      }

      .door.open {
        transform: rotateY(120deg);
      }
      .door::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 5px;
        background: cyan;
        bottom: 0;
        box-shadow: 0 0 15px cyan;
      }
      .modal-content {
        background: #1e1f59;
        color: white;
      }
      .message {
        width: 130px;
        position: absolute;
        display: none;
        color: white;
        font-size: 24px;
        margin-top: 20px;
        margin-left: 15px;
        animation: fadeIn 2s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      .error {
        color: red;
        display: none;
        margin-top: 5px;
      }
      .keyname {
        color: #efff11;
      }
      .hint {
        color: #6affb4;
      }
      .navbar {
        background-color: transparent !important; /* Set the background to transparent */
        box-shadow: none; /* Optional: Remove any box shadow */
      }

      .timer_css {
        background-image: linear-gradient(
          to right,
          #1b808d 0%,
          #2a2378 51%,
          #25808c 100%
        );
      }
      .timer_css {
        margin: 5px;
        padding: 8px 24px;
        text-align: center;
        text-transform: uppercase;
        transition: 0.5s;
        background-size: 200% auto;
        color: white;
        font-weight: 800;
        box-shadow: 0 0 10px #eee;
        border-radius: 10px;
        display: block;
      }

      .timer_css:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }
    </style>
  </head>
  <body data-bs-theme="dark">
    <div class="gradient-bg">
      <div class="gradient-container">
        <div class="g1"></div>
        <div class="g2"></div>
        <div class="g3"></div>
        <div class="g4"></div>
        <div class="g5"></div>
        <div class="interactive"></div>
        <nav class="navbar navbar-expand-lg bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand fs-2" href="#"
              >SetOps
              <div class="fs-6">Escape Room</div></a
            >

            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </nav>
        <div
          id="stopwatch"
          class="position-fixed top-0 end-0 m-3 p-3 text-white rounded timer_css"
        >
          <div id="display">00:00:00</div>
        </div>
        <div
          class="container d-flex flex-column justify-content-center align-items-center vh-100"
        >
          <div class="door-container mt-4">
            <div class="door" id="door"></div>
          </div>
          <div class="message" id="message">
            <div class="fs-4 key">Key</div>
            <div class="fs-2 keyname">Bhaskara</div>
            <br />
            <div class="fs-6 hint">Bhaskara loves prime numbers</div>
          </div>
        </div>

        <!-- Bootstrap Modal for Key Input -->
        <div
          class="modal fade"
          id="keyModal"
          tabindex="-1"
          aria-labelledby="keyModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content modal-key">
              <div class="modal-header">
                <h5 class="modal-title" id="keyModalLabel">Enter Key</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <input
                  type="text"
                  id="keyInput"
                  class="form-control"
                  placeholder="Enter key"
                />
                <div class="error" id="keyError">Incorrect key! Try again.</div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-grad" id="unlockBtn">
                  Unlock
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Bootstrap Modal for Question -->
        <div
          class="modal fade"
          id="questionModal"
          tabindex="-1"
          aria-labelledby="questionModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="questionModalLabel">
                  Answer the Question
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <p>What is 1 + 1?</p>
                <input
                  type="text"
                  id="answerInput"
                  class="form-control"
                  placeholder="Your answer"
                />
                <div class="error" id="answerError">
                  Incorrect answer! Try again.
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-grad2" id="answerBtn">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      // Stopwatch functionality
      let startTime;
      let running = false;
      let interval;

      function startStopwatch() {
        if (!running) {
          running = true;
          startTime =
            Date.now() -
            (interval
              ? parseFloat(document.getElementById("display").textContent) *
                1000
              : 0);
          interval = setInterval(updateDisplay, 10);
        }
      }

      function updateDisplay() {
        const elapsedTime = Date.now() - startTime;
        const seconds = Math.floor(elapsedTime / 1000);
        const minutes = Math.floor(seconds / 60);
        const hours = Math.floor(minutes / 60);

        const displayHours = String(hours).padStart(2, "0");
        const displayMinutes = String(minutes % 60).padStart(2, "0");
        const displaySeconds = String(seconds % 60).padStart(2, "0");

        document.getElementById(
          "display"
        ).textContent = `${displayHours}:${displayMinutes}:${displaySeconds}`;
      }

      // Start the stopwatch when the page loads
      window.addEventListener("load", startStopwatch);
      document.getElementById("door").addEventListener("click", function () {
        if (this.classList.contains("open")) return;
        var myModal = new bootstrap.Modal(document.getElementById("keyModal"));
        document.getElementById("keyInput").value = "";
        document.getElementById("keyError").style.display = "none";
        myModal.show();
      });

      document
        .getElementById("unlockBtn")
        .addEventListener("click", function () {
          const key = document.getElementById("keyInput").value.trim();
          const correctKey = "Aryabhata";
          if (key === correctKey) {
            var keyModalEl = document.getElementById("keyModal");
            var keyModal = bootstrap.Modal.getInstance(keyModalEl);
            keyModal.hide();
            setTimeout(() => {
              var questionModal = new bootstrap.Modal(
                document.getElementById("questionModal")
              );
              document.getElementById("answerInput").value = "";
              document.getElementById("answerError").style.display = "none";
              questionModal.show();
            }, 300);
          } else {
            document.getElementById("keyError").style.display = "block";
          }
        });

      document
        .getElementById("answerBtn")
        .addEventListener("click", function () {
          const answer = document.getElementById("answerInput").value.trim();
          const correctAnswer = "2";
          if (answer === correctAnswer) {
            document.getElementById("door").classList.add("open");
            document.getElementById("message").style.display = "block";
            var questionModalEl = document.getElementById("questionModal");
            var questionModal = bootstrap.Modal.getInstance(questionModalEl);
            questionModal.hide();
          } else {
            document.getElementById("answerError").style.display = "block";
          }
        });
    </script>

    <script src="escape.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
